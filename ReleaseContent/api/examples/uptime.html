<html>
<body>
<pre>
<a name="line1"> 1</a> <font color="#444444">// This is a client command in the &quot;g_cmds.c&quot; file ( ClientCommand(int) )</font>
<a name="line2"> 2</a> <strong>else</strong> <strong>if</strong> <font color="4444FF">(</font> <font color="#2040a0">Q_stricmp</font><font color="4444FF">(</font><font color="#2040a0">cmd</font>, <font color="#008000">&quot;uptime&quot;</font><font color="4444FF">)</font> <font color="4444FF">=</font><font color="4444FF">=</font> <font color="#FF0000">0</font> <font color="4444FF">)</font>
<a name="line3"> 3</a> <font color="4444FF"><strong>{</strong></font>
<a name="line4"> 4</a> 	<strong>char</strong> <font color="#2040a0">buff</font><font color="4444FF">[</font><font color="#FF0000">100</font><font color="4444FF">]</font><font color="4444FF">;</font>
<a name="line5"> 5</a>   
<a name="line6"> 6</a> 	<font color="#444444">// If you want your mod to be backwards compatible without JK2MF you need to check if it is available before every</font>
<a name="line7"> 7</a> 	<font color="#444444">// call to a JK2MF specific function.</font>
<a name="line8"> 8</a> 	<strong>if</strong> <font color="4444FF">(</font> <font color="4444FF">!</font><font color="#2040a0">JK2MFApiAvailable</font><font color="4444FF">(</font><font color="4444FF">)</font> <font color="4444FF">)</font>
<a name="line9"> 9</a> 	<font color="4444FF"><strong>{</strong></font>
<a name="line10">10</a> 		<font color="#2040a0">trap_SendServerCommand</font><font color="4444FF">(</font><font color="#2040a0">clientNum</font>, <font color="#2040a0">va</font><font color="4444FF">(</font><font color="#008000">&quot;print <font color="#77dd77">\&quot;</font>The server needs at least JK2MF %s to make this command available.<font color="#77dd77">\n</font><font color="#77dd77">\&quot;</font>&quot;</font>, <font color="#2040a0">JK2MFMINVERSION</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">;</font>
<a name="line11">11</a> 		<strong>return</strong><font color="4444FF">;</font>
<a name="line12">12</a> 	<font color="4444FF"><strong>}</strong></font>
<a name="line13">13</a>   
<a name="line14">14</a> 	<font color="#2040a0">trap_JK2MF_GetUptimeString</font><font color="4444FF">(</font><font color="#2040a0">buff</font>, <strong>sizeof</strong><font color="4444FF">(</font><font color="#2040a0">buff</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">;</font>  
<a name="line15">15</a> 	<font color="#2040a0">trap_SendServerCommand</font><font color="4444FF">(</font><font color="#2040a0">clientNum</font>, <font color="#2040a0">va</font><font color="4444FF">(</font><font color="#008000">&quot;print <font color="#77dd77">\&quot;</font>%s ( %i seconds )<font color="#77dd77">\n</font><font color="#77dd77">\&quot;</font>&quot;</font>, <font color="#2040a0">buff</font>, <font color="#2040a0">trap_JK2MF_GetUptimeSeconds</font><font color="4444FF">(</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">;</font>
<a name="line16">16</a> <font color="4444FF"><strong>}</strong></font>
</pre>
</body>
</html>